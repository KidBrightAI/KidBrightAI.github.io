(window.webpackJsonp=window.webpackJsonp||[]).push([[0,9,10,12,13,14],{1196:function(e,t,r){var content=r(1203);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(35).default)("2ddc1401",content,!0,{sourceMap:!1})},1197:function(e,t,r){var content=r(1214);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(35).default)("35414920",content,!0,{sourceMap:!1})},1201:function(e,t,r){e.exports=r.p+"img/Mask Group 12.d4d108c.png"},1202:function(e,t,r){"use strict";r(1196)},1203:function(e,t,r){var n=r(34),o=r(1204),c=r(1205),l=r(1206),d=r(1207),f=r(1208),m=r(1209),v=r(1210),h=r(1211),j=r(1212),x=n(!1),y=o(c),O=o(l),w=o(d),k=o(f),_=o(m),P=o(v),T=o(h),S=o(j);x.push([e.i,'*{outline:none;box-sizing:border-box}.p-color{color:#007e4e;font-weight:800}.p-notice-color{color:red}ul{list-style:none;padding:0}.op-btn{transition:opacity .3s ease-in;cursor:pointer}.op-btn:hover{opacity:.7}.container-fluid{padding:0}.main-bg{background-color:#eee}.content-panel{overflow-y:auto;width:calc(100% - 320px)}.left-panel{padding:8px;max-width:320px;width:320px;min-width:320px;overflow-y:auto}.left-panel .l-title{color:#06754b;font-size:35px;text-align:center}.left-panel .left-bottom-content{position:relative;background-color:#fff7d6;border-top-left-radius:24px;border-top-right-radius:24px;margin:10px 8px;flex-direction:column;align-items:flex-start;padding:0;height:calc(100% - 145px);overflow:hidden}.left-panel .left-bottom-content .proj-name{display:flex;align-items:center;margin-bottom:0;color:#eee;font-size:18px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.left-panel .left-bottom-content .proj-type{color:#ffff78;font-size:14px;margin-bottom:.5em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.left-panel .left-bottom-content .step{display:flex;flex-wrap:wrap;margin:10px 0;padding:0 20px;width:100%;height:246px}.left-panel .left-bottom-content .step li{flex:1 0 50%;padding:5px;opacity:1;filter:sepia(1);cursor:pointer;transition:opacity .3s ease-in,filter .3s ease-in}.left-panel .left-bottom-content .step li.inactive{opacity:.7;filter:sepia(1)!important;cursor:unset!important}.left-panel .left-bottom-content .step li.current{filter:sepia(0)!important}.left-panel .left-bottom-content .step li:hover{filter:sepia(.5)}.left-panel .left-bottom-content .step li img{width:100%}.left-panel .left-bottom-content .hint{width:calc(100% - 20px);height:100%;margin:0 10px 10px;text-align:left;display:flex;justify-content:space-between;flex-direction:column;position:relative;background:#fff;border-radius:20px;overflow-y:auto}.left-panel .left-bottom-content .hint:after{content:"";position:absolute;top:20px;left:40px;width:75px;height:114px;background:url('+y+") 50% no-repeat;background-size:75px 114px;opacity:.5}.left-panel .left-bottom-content .hint .main-hint{padding:1em;z-index:1}.left-panel .left-bottom-content .hint .btn-desc{margin-bottom:10px}.left-panel .left-bottom-content .hint .btn-desc li{display:flex;align-items:center;margin-bottom:5px;height:23px;margin-left:-7px}.left-panel .left-bottom-content .hint .btn-desc span{width:32px;display:flex;justify-content:center;margin-right:5px}.left-panel .left-bottom-content .hint p{font-size:.8rem}.left-panel .left-bottom-content .hint p img{height:30px}.left-panel .left-bottom-content .mascot{width:100%;text-align:center}.left-panel .left-bottom-content .mascot img{width:150px}.left-panel .menu-starter{display:flex;justify-content:center}.left-panel .menu-starter>div{margin:5px}.left-panel .btn-base{width:55px;height:55px;background-position:50%;background-size:cover;cursor:pointer}.left-panel .btn-base.new{background-image:url("+O+")}.left-panel .btn-base.open{background-image:url("+w+")}.left-panel .btn-base.save{background-image:url("+k+")}.left-panel .btn-base.delete{background-image:url("+_+")}.left-panel .btn-base.eject{background-image:url("+P+")}.left-panel .btn-base.import{background-image:url("+T+");opacity:.5}.left-panel .btn-base.wifi{background-image:url("+S+")}.sub-panel{background-color:#333;padding:16px;color:#fff;width:240px;max-width:240px}.container{max-width:100%;min-width:100%;max-height:100%;min-height:100%;margin:0 auto;font-size:.9em;color:#888}#blocklyDiv{position:absolute;height:100%;width:100%;margin-left:33.33%}[data-md-tooltip]{position:relative}[data-md-tooltip]:before{content:attr(data-md-tooltip);position:absolute;top:60px;left:50%;padding:8px;transform:translateX(-50%) scale(0);transition:transform .2s ease-in-out;transform-origin:top;background-color:#fff7d6;color:#333;border-radius:20px;font-size:.7rem;font-weight:400;z-index:9999;width:120%;opacity:1!important;text-align:center}[data-md-tooltip]:hover:before{transform:translateX(-50%) scale(1);z-index:9999}",""]),e.exports=x},1204:function(e,t,r){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},1205:function(e,t,r){e.exports=r.p+"img/light-bulb.ae6390c.svg"},1206:function(e,t,r){e.exports=r.p+"img/Group 187.57aaa93.png"},1207:function(e,t,r){e.exports=r.p+"img/Group 185.e692976.png"},1208:function(e,t,r){e.exports=r.p+"img/Group 186.9f9f307.png"},1209:function(e,t,r){e.exports=r.p+"img/Group 188.b3c54c0.png"},1210:function(e,t,r){e.exports=r.p+"img/Group 108.c233dde.png"},1211:function(e,t,r){e.exports=r.p+"img/Group 121.3b013fa.png"},1212:function(e,t,r){e.exports=r.p+"img/Group 122.7ac1f01.png"},1213:function(e,t,r){"use strict";r(1197)},1214:function(e,t,r){var n=r(34)(!1);n.push([e.i,".mode-select .btn{color:unset;border:unset;background-color:unset;text-align:left;position:relative}.mode-select .btn:after{position:absolute;top:17px;right:15px}::-webkit-scrollbar{width:7px;height:10px}::-webkit-scrollbar-thumb{background-color:#007e4e;border-radius:10px}::-webkit-scrollbar-track{background-color:rgba(0,0,0,.2);border-radius:10px}.mode-select{margin:0 0 10px;width:100%;background:#fff;border:1px solid #ced4da;border-radius:.25rem}.mode-select .btn{background-color:#fff}.header-left-bar{z-index:1;position:relative;display:block;background:#007e4e;width:100%;padding:10px 15px;height:102px}.header-left-bar .header-action-button{display:flex}.header-left-bar .header-action-button button{background:#003722;border:none;font-size:10px;border-radius:15px;text-transform:capitalize;flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.header-left-bar .header-action-button button:first-of-type{margin-right:5px}.header-left-bar .header-action-button .connection-robot{background-color:#1a3700;color:#f7ff00}.header-left-bar .header-action-button .connection-robot svg{fill:#f7ff00}.header-left-bar .header-action-button .connection-computer{background-color:#003137;color:#00fff6}.header-left-bar .header-action-button .connection-computer svg{fill:#00fff6}.header-left-bar .header-action-button .text-green{color:#0f7}.header-left-bar .header-action-button .text-green svg{fill:#0f7}.header-left-bar .header-action-button .inactive{color:#517a52}.header-left-bar .header-action-button .inactive svg{fill:#517a52}.header-left-bar .header-action-button .img-icon{height:1em}",""]),e.exports=n},850:function(e,t,r){"use strict";r.r(t);r(20),r(19),r(16),r(15),r(21),r(17),r(22);var n=r(4),o=r(11),c=(r(41),r(14)),l=r(166),d=r(851),f=r(852),m=r(853),v=r(237),h=r(854),j=r(855);function x(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var O={components:{MainPanel:l.default,NewProjectModal:d.default,OpenProjectModal:f.default,DeleteProjectModal:m.default,ExtensionAsyncComponent:v.default,SavingProject:h.default,ConnectWifiModal:j.default},name:"MainPage",data:function(){return{selectedMenu:0,loaded:!1}},created:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("web page created"),"BROWSER"!=e.currentDevice){t.next=5;break}console.log("Browser Mode"),t.next=9;break;case 5:return t.next=7,e.getCurrentWifi();case 7:return t.next=9,e.getCurrentBackend();case 9:case"end":return t.stop()}}),t)})))()},computed:y(y({},Object(c.e)("project",["project","listProjectModal","isLoading","isSaving"])),Object(c.e)(["currentDevice","currentWifi","connectWifiModal","isRunning"])),methods:y(y({},Object(c.b)(["getCurrentWifi","getCurrentBackend"])),{},{projectCreated:function(e){var t=this;this.selectedMenu=0,this.$nextTick((function(){t.selectedMenu=1}))}}),watch:{project:function(e){!this.selectedMenu&&e.id?this.selectedMenu=1:this.selectedMenu=0}}},w=(r(1202),r(1213),r(18)),component=Object(w.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"container-fluid vh-100 d-flex main-bg"},[n("main-panel",{model:{value:e.selectedMenu,callback:function(t){e.selectedMenu=t},expression:"selectedMenu"}}),e._v(" "),n("div",{staticClass:"content-panel d-flex flex-fill"},[1===e.selectedMenu&&e.project.extension?n("extension-async-component",{attrs:{target:e.project.extension.components.Capture}}):2===e.selectedMenu&&e.project.extension?n("extension-async-component",{attrs:{target:e.project.extension.components.Annotate}}):3===e.selectedMenu&&e.project.extension?n("extension-async-component",{attrs:{target:e.project.extension.components.Train}}):4===e.selectedMenu&&e.project.extension?n("extension-async-component",{attrs:{target:e.project.extension.components.Coding}}):n("div",{staticClass:"w-100 h-100"},[n("b-img",{staticStyle:{"margin-top":"100px"},attrs:{width:"500px",src:r(1201),center:""}}),e._v(" "),n("span",{staticStyle:{"margin-top":"50px",display:"block","text-align":"center","font-size":"25px"}},[e._v(" สร้างโปรเจคใหม่ หรือ เลือกกดเมนูด้านซ้ายมือ")])],1)],1)],1),e._v(" "),n("new-project-modal",{on:{success:e.projectCreated}}),e._v(" "),n("open-project-modal"),e._v(" "),n("delete-project-modal"),e._v(" "),n("saving-project"),e._v(" "),n("connect-wifi-modal")],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{MainPanel:r(166).default,ExtensionAsyncComponent:r(237).default})},851:function(e,t,r){"use strict";r.r(t);r(19),r(21),r(22);var n=r(11),o=r(4),c=r(57),l=(r(41),r(40),r(46),r(856),r(16),r(15),r(180),r(56),r(17),r(20),r(159),r(14));function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={data:function(){return{models:[{text:"เลือกประเภทการเรียนรู้ (Select training type)",value:null}].concat(Object(c.a)(this.$extensions.map((function(e){return{text:e.title,value:e.id}})))),modelOptions:Object.fromEntries(this.$extensions.map((function(e){return e.options?[e.id,e.options]:null})).filter((function(e){return null!=e}))),selectType:0,projectName:""}},computed:f(f({},Object(l.e)("project",["project","listProjectModal","isLoading","isSaving"])),{},{projectState:function(){return!!(this.projectName.length>0&&this.selectType)}}),methods:f(f({},Object(l.b)("project",["createProject"])),{},{clearForm:function(){this.selectType=null,this.projectName=""},handleCreateProject:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,c,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),r.prev=1,n=t.$extensions.find((function(e){return e.id==t.selectType})),o={name:t.projectName,description:"",id:t.$helper.createUniqueName(t.projectName),projectType:t.selectType,projectTypeTitle:n.name,lastUpdate:new Date,extension:n,model:null,dataset:[],labels:[]},(c=t.modelOptions[t.selectType])&&(l={},Object.keys(c).forEach((function(e){"number"==c[e].type&&(c[e].value=Number(c[e].value)),l[e]=c[e].value})),o.options=l),r.next=8,t.createProject(o);case 8:t.$toast.success("สร้างโปรเจคเสร็จเรียบร้อย"),t.$bvModal.hide("new-project-modal"),t.$emit("success",o),r.next=18;break;case 13:r.prev=13,r.t0=r.catch(1),console.error(r.t0),t.$toast.error("มีอย่างไม่ถูกต้อง : "+r.t0.message),t.$emit("error",r.t0);case 18:case"end":return r.stop()}}),r,null,[[1,13]])})))()}})},v=r(18),component=Object(v.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-modal",{attrs:{title:"สร้างโปรเจคใหม่",id:"new-project-modal","ok-disabled":!e.projectState},on:{show:e.clearForm,hidden:e.clearForm,ok:e.handleCreateProject}},[r("form",{on:{submit:function(e){e.stopPropagation(),e.preventDefault()}}},[r("b-form-group",{attrs:{label:"Project type"}},[r("b-form-select",{attrs:{id:"project-type",options:e.models,required:""},model:{value:e.selectType,callback:function(t){e.selectType=t},expression:"selectType"}})],1),e._v(" "),e.selectType in e.modelOptions?r("div",e._l(Object.keys(e.modelOptions[e.selectType]),(function(t){return r("b-form-group",{key:t,attrs:{label:e.modelOptions[e.selectType][t].title}},[r("b-form-input",e._b({attrs:{id:e.selectType+"-"+t,type:e.modelOptions[e.selectType][t].type},model:{value:e.modelOptions[e.selectType][t].value,callback:function(r){e.$set(e.modelOptions[e.selectType][t],"value",r)},expression:"modelOptions[selectType][key].value"}},"b-form-input",e.modelOptions[e.selectType][t].attributes,!1)),e._v(" "),e.modelOptions[e.selectType][t].description?r("b-form-text",[e._v("\n          "+e._s(e.modelOptions[e.selectType][t].description)+"\n        ")]):e._e()],1)})),1):e._e(),e._v(" "),r("b-form-group",{attrs:{state:e.projectState,label:"Name","label-for":"name-input","invalid-feedback":"ต้องเลือกชนิดโปรเจค, ต้องการชื่อโปรเจค"}},[r("b-form-input",{attrs:{id:"name-input",state:e.projectState,required:""},model:{value:e.projectName,callback:function(t){e.projectName=t},expression:"projectName"}})],1)],1)])}),[],!1,null,null,null);t.default=component.exports},852:function(e,t,r){"use strict";r.r(t);r(20),r(19),r(21),r(17),r(22),r(48),r(77),r(66),r(37),r(78),r(83),r(67);var n=r(11),o=r(4),c=r(57),l=(r(41),r(40),r(46),r(16),r(15),r(56),r(180),r(514),r(71),r(42)),d=r.n(l),f=r(14);function m(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw o}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var x={data:function(){return{models:[{text:"เลือกประเภทการเรียนรู้ (Select training type)",value:null}].concat(Object(c.a)(this.$extensions.map((function(e){return{text:e.title,value:e.id}})))),selectType:null,projectList:[],projectToOpen:null,files:null,step:1,progress:0,percentage:0,serverFileLength:0}},created:function(){},computed:j(j({},Object(f.e)(["currentDevice","isSaving","isOpening","serverUrl"])),{},{projectState:function(){return"BROWSER"==this.currentDevice?(this.step>=3||1==this.step)&&this.files&&this.files.length>0:"ROBOT"==this.currentDevice?(this.step>=3||1==this.step)&&this.projectToOpen:void 0},projectByType:function(){var e=this,t=this.projectList.filter((function(t){return t.projectType==e.selectType}));return t.length>0?t.map((function(e){return{text:e.name,value:e.id}})):(this.projectToOpen=null,null)}}),methods:j(j(j(j({},Object(f.d)("project",["setProject"])),Object(f.b)("dataset",["addFileToFs","clearDataset","restoreDataset"])),Object(f.b)("project",["fetchProjects"])),{},{clearForm:function(){this.selectType=null,this.projectToOpen=null,this.projectList=[],this.files=[],this.serverFileLength=0,this.step=1,this.progress=0},fetchProject:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("ROBOT"!=e.currentDevice){t.next=4;break}return t.next=3,e.fetchProjects();case 3:e.projectList=t.sent;case 4:case"end":return t.stop()}}),t)})))()},getServerFile:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,d.a.get("".concat(t.serverUrl,"/projects/").concat(t.projectToOpen,"/raw_dataset/").concat(e),{responseType:"blob"});case 2:return n=r.sent,r.abrupt("return",new File([n.data],e));case 4:case"end":return r.stop()}}),r)})))()},getServerProjectFile:function(e){var t=arguments,r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t.length>1&&void 0!==t[1]?t[1]:"blob",n.next=3,d.a.get("".concat(r.serverUrl,"/projects/").concat(r.projectToOpen,"/").concat(e),{responseType:o});case 3:if(c=n.sent,"blob"!=o){n.next=6;break}return n.abrupt("return",new File([c.data],e));case 6:return n.abrupt("return",c.data);case 7:case"end":return n.stop()}}),n)})))()},openProjectHandle:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,c,l,f,v,h,j,x,y,O,w,k,_,P,T,S,D,F,data,C,R,M,E,$,W,I,L,B,z,N,U;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("BROWSER"!=t.currentDevice){r.next=88;break}if(1!=t.step){r.next=85;break}if(e.preventDefault(),t.step=2,t.progress=0,n=t.files.find((function(e){return"project.json"==e.name}))){r.next=10;break}return t.step=1,t.$toast.error("Folder ที่เลือกไม่พบโปรเจคไฟล์"),r.abrupt("return",!1);case 10:return o=t.files.filter((function(e){return e.name!=n.name})),r.next=13,t.$helper.readFile(n);case 13:return c=r.sent,l=JSON.parse(c),f=l.project.project.id,r.next=18,t.clearDataset();case 18:console.log("cleared"),v=m(o),r.prev=20,v.s();case 22:if((h=v.n()).done){r.next=30;break}return j=h.value,t.progress+=1,t.percentage=Math.round(t.progress/o.length*100)-5,r.next=28,t.addFileToFs({projectId:f,file:j});case 28:r.next=22;break;case 30:r.next=35;break;case 32:r.prev=32,r.t0=r.catch(20),v.e(r.t0);case 35:return r.prev=35,v.f(),r.finish(35);case 38:if(!(x=t.files.find((function(e){return"model.json"==e.name})))){r.next=61;break}return r.next=42,t.addFileToFs({projectId:f,file:x});case 42:y=m(t.files.filter((function(e){return e.name.endsWith(".bin")}))),r.prev=43,y.s();case 45:if((O=y.n()).done){r.next=51;break}return w=O.value,r.next=49,t.addFileToFs({projectId:f,file:w});case 49:r.next=45;break;case 51:r.next=56;break;case 53:r.prev=53,r.t1=r.catch(43),y.e(r.t1);case 56:return r.prev=56,y.f(),r.finish(56);case 59:r.next=62;break;case 61:l.project.project.tfjs="";case 62:if(t.percentage=96,!(k=t.files.find((function(e){return"model_edgetpu.tflite"==e.name})))){r.next=69;break}return r.next=67,t.addFileToFs({projectId:f,file:k});case 67:r.next=70;break;case 69:l.project.project.edgetpu="";case 70:if(t.percentage=98,!t.files.find((function(e){return"labels.txt"==e.name}))){r.next=77;break}return r.next=75,t.addFileToFs({projectId:f,file:k});case 75:r.next=78;break;case 77:l.project.project.labelFile="";case 78:t.percentage=99,t.restoreDataset(l.dataset.dataset),t.setProject(l.project.project),t.step=3,t.$toast.success("เปิดโปรเจคและนำเข้าเสร็จเรียบร้อย"),r.next=86;break;case 85:t.step;case 86:r.next=212;break;case 88:if("ROBOT"!=t.currentDevice){r.next=212;break}if(1!=t.step){r.next=211;break}return e.preventDefault(),t.step=2,t.progress=0,r.next=95,d.a.get("".concat(t.serverUrl,"/projects/").concat(t.projectToOpen,"/project.json"));case 95:if(!(_=r.sent)||200==_.status){r.next=100;break}return t.step=1,t.$toast.error("ไม่พบโปรเจคไฟล์"),r.abrupt("return",!1);case 100:return P=_.data,T=P.project.project.id,r.next=104,t.clearDataset();case 104:console.log("cleared"),S=P.dataset.dataset.data,t.serverFileLength=S.length,D=m(S),r.prev=108,D.s();case 110:if((F=D.n()).done){r.next=139;break}if(data=F.value,t.progress+=1,t.percentage=Math.round(t.progress/S.length*100),"VOICE_CLASSIFICATION"!=P.project.project.projectType){r.next=132;break}return r.next=117,t.getServerFile("".concat(data.id,".").concat(data.ext));case 117:return C=r.sent,r.next=120,t.addFileToFs({projectId:T,file:C});case 120:return r.next=122,t.getServerFile("".concat(data.id,"_mfcc.jpg"));case 122:return R=r.sent,r.next=125,t.addFileToFs({projectId:T,file:R});case 125:return r.next=127,t.getServerFile("".concat(data.id,".").concat(data.sound_ext));case 127:return M=r.sent,r.next=130,t.addFileToFs({projectId:T,file:M});case 130:r.next=137;break;case 132:return r.next=134,t.getServerFile("".concat(data.id,".").concat(data.ext));case 134:return E=r.sent,r.next=137,t.addFileToFs({projectId:T,file:E});case 137:r.next=110;break;case 139:r.next=144;break;case 141:r.prev=141,r.t2=r.catch(108),D.e(r.t2);case 144:return r.prev=144,D.f(),r.finish(144);case 147:return r.prev=147,r.next=150,t.getServerProjectFile("labels.txt");case 150:return $=r.sent,r.next=153,t.addFileToFs({projectId:T,file:$});case 153:r.next=157;break;case 155:r.prev=155,r.t3=r.catch(147);case 157:return r.prev=157,r.next=160,t.getServerProjectFile("model_edgetpu.tflite");case 160:return W=r.sent,r.next=163,t.addFileToFs({projectId:T,file:W});case 163:r.next=167;break;case 165:r.prev=165,r.t4=r.catch(157);case 167:return r.prev=167,r.next=170,t.getServerProjectFile("model.json");case 170:return I=r.sent,r.next=173,t.addFileToFs({projectId:T,file:I});case 173:r.next=177;break;case 175:r.prev=175,r.t5=r.catch(167);case 177:return r.prev=177,r.next=180,t.getServerProjectFile("model.json","text");case 180:L=r.sent,B=m(L.weightsManifest[0].paths),r.prev=182,B.s();case 184:if((z=B.n()).done){r.next=193;break}return N=z.value,r.next=188,t.getServerProjectFile(N);case 188:return U=r.sent,r.next=191,t.addFileToFs({projectId:T,file:U});case 191:r.next=184;break;case 193:r.next=198;break;case 195:r.prev=195,r.t6=r.catch(182),B.e(r.t6);case 198:return r.prev=198,B.f(),r.finish(198);case 201:r.next=205;break;case 203:r.prev=203,r.t7=r.catch(177);case 205:t.restoreDataset(P.dataset.dataset),t.setProject(P.project.project),t.step=3,t.$toast.success("เปิดโปรเจคและนำเข้าเสร็จเรียบร้อย"),r.next=212;break;case 211:t.step;case 212:case"end":return r.stop()}}),r,null,[[20,32,35,38],[43,53,56,59],[108,141,144,147],[147,155],[157,165],[167,175],[177,203],[182,195,198,201]])})))()},delay:function(time){return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){setTimeout((function(){e()}),time)})));case 1:case"end":return e.stop()}}),e)})))()}})},y=x,O=r(18),component=Object(O.a)(y,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-modal",{attrs:{id:"open-project-modal",title:"เปิดโปรเจค","ok-disabled":!e.projectState},on:{show:e.fetchProject,hidden:e.clearForm,ok:e.openProjectHandle}},["ROBOT"==e.currentDevice?r("div",[r("form",{on:{submit:function(e){e.stopPropagation(),e.preventDefault()}}},[r("b-form-group",{attrs:{label:"Project type"}},[r("b-form-select",{attrs:{id:"project-type",options:e.models,required:""},model:{value:e.selectType,callback:function(t){e.selectType=t},expression:"selectType"}})],1)],1),e._v(" "),r("p",{staticClass:"p-notice-color small"},[e._v("* เลือกโปรเจคที่ต้องการเปิด")]),e._v(" "),e.projectByType?r("b-form-select",{attrs:{id:"project-id",options:e.projectByType,required:""},model:{value:e.projectToOpen,callback:function(t){e.projectToOpen=t},expression:"projectToOpen"}}):e._e()],1):"BROWSER"==e.currentDevice&&1==e.step?r("div",[r("b-row",{staticClass:"mb-4"},[r("b-col",[r("b-form-file",{attrs:{placeholder:"เลือกโฟลเดอร์ของโปรเจค","drop-placeholder":"ลากโฟลเดอร์ของโปรเจคมาวางที่นี่...",multiple:"",directory:""},model:{value:e.files,callback:function(t){e.files=t},expression:"files"}})],1)],1),e._v(" "),r("p",{staticClass:"p-notice-color small"},[e._v("* เลือกโฟลเดอร์ของโปรเจคที่ต้องการเปิด")])],1):e._e(),e._v(" "),e.step>=2?r("div",{staticClass:"text-center"},[r("vm-progress",{staticStyle:{"vertical-align":"middle"},attrs:{type:"circle",percentage:e.percentage,strokeColor:"#007E4E","stroke-width":"24",width:200}},[2==e.step&&"BROWSER"==e.currentDevice?r("h4",{staticClass:"my-3",attrs:{"text-black":""}},[e._v("\n        กำลังนำเข้า ... "+e._s(e.progress)+"/"+e._s(e.files.length||"")+"\n      ")]):e._e(),e._v(" "),2==e.step&&"ROBOT"==e.currentDevice?r("h4",{staticClass:"my-3",attrs:{"text-black":""}},[e._v("\n        กำลังนำเข้า ... "+e._s(e.progress)+"/"+e._s(e.serverFileLength)+"\n      ")]):3==e.step?r("h4",{staticClass:"my-3",attrs:{"text-black":""}},[e._v("นำเข้าสำเร็จ")]):e._e()])],1):e._e()])}),[],!1,null,null,null);t.default=component.exports},853:function(e,t,r){"use strict";r.r(t);var n=r(11),o=r(4),c=r(57),l=(r(41),r(40),r(46),r(20),r(19),r(16),r(15),r(21),r(17),r(22),r(14));function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={data:function(){return{models:[{text:"เลือกประเภทการเรียนรู้ (Select training type)",value:null}].concat(Object(c.a)(this.$extensions.map((function(e){return{text:e.title,value:e.id}})))),selectType:null,projectList:[],projectToDelete:null}},created:function(){},computed:f(f(f({},Object(l.e)("project",["project","listProjectModal","isLoading","isSaving"])),Object(l.e)(["currentDevice"])),{},{projectState:function(){return"BROWSER"==this.currentDevice?!!this.project.id:!!this.projectToDelete}}),methods:f(f(f(f({},Object(l.d)("project",["setProject"])),Object(l.d)("dataset",["setDataset"])),Object(l.b)("dataset",["clearDataset"])),{},{clearForm:function(){this.selectType=null,this.projectToDelete=null,this.projectList=[]},deleteProject:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("BROWSER"!=e.currentDevice){t.next=5;break}return e.setDataset({project:"",datasetType:null,data:[],baseURL:""}),t.next=4,e.clearDataset();case 4:e.setProject({name:"",description:"",id:null,projectType:null,lastUpdate:null,dataset:[],model:null,labelFile:"",modelLabel:[],labels:"",pretrained:"",tfjs:"",edgetpu:"",options:{},code:"",workspace:"",anchors:[]});case 5:case"end":return t.stop()}}),t)})))()},fetchProject:function(){}})},v=r(18),component=Object(v.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-modal",{attrs:{id:"delete-project-modal",title:"ลบโปรเจค","ok-disabled":!e.projectState},on:{show:e.clearForm,hidden:e.clearForm,ok:e.deleteProject}},["BROWSER"==e.currentDevice?r("p",{staticClass:"p-notice-color"},[e._v("ข้อมูลโปรเจคนี้ทั้งหมดจะหายไป! ต้องการที่จะลบโปรเจคหรือไม่ ?")]):r("form",{on:{submit:function(e){e.stopPropagation(),e.preventDefault()}}},[r("b-form-group",{attrs:{label:"Project type"}},[r("b-form-select",{attrs:{id:"project-type",options:e.models,required:""},model:{value:e.selectType,callback:function(t){e.selectType=t},expression:"selectType"}})],1),e._v(" "),r("p",{staticClass:"p-notice-color small"},[e._v("* เลือกโปรเจคที่ต้องการลบ")])],1)])}),[],!1,null,null,null);t.default=component.exports},854:function(e,t,r){"use strict";r.r(t);r(20),r(19),r(16),r(15),r(21),r(17),r(22);var n=r(4),progress=r(122),o=r.n(progress),c=r(14);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var d={name:"SavingProject",components:{Progress:o.a},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(c.e)(["saving","savingProgress"])),methods:{}},f=d,m=r(18),component=Object(m.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-modal",{attrs:{id:"sync-project",title:"กำลังบันทึกโปรเจค","header-bg-variant":"success","header-text-variant":"light",size:"md","no-close-on-backdrop":"","no-close-on-esc":"","hide-header-close":"","hide-footer":""},model:{value:e.saving,callback:function(t){e.saving=t},expression:"saving"}},[r("div",{staticClass:"text-center"},[r("vm-progress",{staticStyle:{"vertical-align":"middle"},attrs:{type:"circle",percentage:e.savingProgress,strokeColor:"#007E4E","stroke-width":"24",width:200}},[r("h4",{staticClass:"mt-3",attrs:{"text-black":""}},[e._v("กำลังบันทึก ...")]),e._v(" "),r("h4",{staticClass:"mb-3",attrs:{"text-black":""}},[e._v(e._s(e.savingProgress.toFixed(2))+"%")])])],1)])}),[],!1,null,null,null);t.default=component.exports},855:function(e,t,r){"use strict";r.r(t);r(20),r(19),r(16),r(15),r(21),r(17),r(22);var n=r(11),o=r(4),c=(r(41),r(42)),l=r.n(c),d=r(14);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var m={components:{},name:"ConnectWifiModal",data:function(){return{loading:!0,saving:!1,wifiList:[],selected_ssid:"",wifi_password:""}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(d.e)(["serverUrl","terminalUrl"])),methods:{listWifi:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,l.a.get(e.terminalUrl+"/listWifi");case 4:(r=t.sent).data.status&&"OK"==r.data.status&&(e.wifiList=r.data.ap,console.log(e.wifiList)),e.loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e.loading=!1;case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},openWifi:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,e.saving=!1,e.wifiList=[],e.selected_ssid="",e.wifi_password="",t.next=7,e.listWifi();case 7:case"end":return t.stop()}}),t)})))()},clearData:function(){this.wifiList=[],this.selected_ssid="",this.wifi_password="",this.saving=!1},connectToWifi:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),t.saving=!0,r.prev=2,r.next=5,l.a.post(t.terminalUrl+"/wifiConnect",{ssid:t.selected_ssid,password:t.wifi_password});case 5:(n=r.sent).data.status&&"OK"==n.data.status&&t.$toast.success("เชื่อมต่อ WiFi สำเร็จ"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),t.$toast.error("เชื่อมต่อ WiFi ล้มเหลว :"+r.t0.message);case 12:return r.prev=12,t.saving=!1,t.loading=!1,t.$bvModal.hide("wifi_conn"),r.finish(12);case 17:case"end":return r.stop()}}),r,null,[[2,9,12,17]])})))()}}},v=m,h=r(18),component=Object(h.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-modal",{attrs:{"modal-class":"my-modal-class",id:"wifi_conn",title:"WIFI SETTING","ok-disabled":e.loading},on:{ok:e.connectToWifi,show:e.openWifi,hidden:e.clearData},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var n=t.ok,o=t.cancel;return[r("b-button",{attrs:{disabled:e.saving},on:{click:function(e){return o()}}},[e._v("\n        Cancel\n      ")]),e._v(" "),r("b-button",{attrs:{variant:"primary",disabled:e.saving||e.loading},on:{click:function(e){return n()}}},[e.saving?r("b-spinner",{staticClass:"mr-1",attrs:{small:""}}):e._e(),e._v("\n        Connect\n      ")],1)]}}])},[e.loading?r("div",{staticStyle:{"text-align":"center"}},[r("b-spinner",{staticStyle:{width:"4rem",height:"4rem"},attrs:{variant:"success",label:"Spinning"}})],1):r("div",[r("p",{staticClass:"modal-ttl"},[e._v("Please select wifi from list")]),e._v(" "),r("p",{staticClass:"modal-desc"},[e._v("\n        เลือกเครือข่าย wi-fi เพื่อเชื่อต่ออินเทอร์เน็ต สำหรับ KidBright AI"),r("br"),e._v("หมายเหตุ\n        : แนะนำให้เลือกเครือข่ายเดียวกันกับคอมพิวเตอร์\n      ")]),e._v(" "),r("b-dropdown",{staticClass:"mb-2",attrs:{id:"ddCommodity",name:"ddCommodity",text:e.selected_ssid?e.selected_ssid:"Select Wi-Fi",variant:"secondary","menu-class":"w-100",block:""},model:{value:e.selected_ssid,callback:function(t){e.selected_ssid=t},expression:"selected_ssid"}},e._l(e.wifiList,(function(t,i){return r("b-dropdown-item",{key:i,on:{click:function(r){e.selected_ssid=t}}},[e._v("\n          "+e._s(t)+"\n        ")])})),1),e._v(" "),r("b-form-input",{attrs:{placeholder:"กรุณาใส่รหัสผ่าน"},model:{value:e.wifi_password,callback:function(t){e.wifi_password=t},expression:"wifi_password"}})],1)])}),[],!1,null,null,null);t.default=component.exports}}]);